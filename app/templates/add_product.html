<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Add Product | Blockchain Supply Chain</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/common.css') }}">


  <style>
  :root {
    --cs-primary: #1e3a8a;
    --cs-primary-light: #3b82f6;
    --cs-bg: #f8fafc;
    --cs-muted: #64748b;
  }

  body {
    background: linear-gradient(180deg, #f8fafc 0%, #eef2ff 100%);
    font-family: "Inter", system-ui;
  }

  .navbar {
    background: var(--cs-primary);
    box-shadow: 0 6px 20px rgba(30, 58, 138, 0.35);
  }

  .navbar-brand {
    color: white !important;
    font-weight: 600;
  }

  .form-card {
  background: rgba(255,255,255,0.95);
  border-radius: 20px;
  border: 1px solid rgba(255,255,255,0.4);
  box-shadow:
    0 24px 48px rgba(15,23,42,0.12),
    inset 0 1px 0 rgba(255,255,255,0.6);
  backdrop-filter: blur(10px);
}


  h3 {
    font-weight: 600;
  }

  label {
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: #64748b;
  font-weight: 600;
}


  .form-control {
  border-radius: 12px;
  padding: 0.7rem 0.85rem;
  border: 1px solid #e5e7eb;
}

.form-control:focus {
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59,130,246,0.25);
}
.form-control:hover {
  border-color: #c7d2fe;
}

  .btn-primary {
  border-radius: 999px;
  padding: 0.6rem 2.2rem;
  box-shadow: 0 0 0 rgba(59,130,246,0.4);
}

.btn-primary:hover {
  box-shadow: 0 0 20px rgba(59,130,246,0.45);
  transform: translateY(-1px);
}


  footer {
    text-align: center;
    color: var(--cs-muted);
    font-size: 0.9rem;
}
* {
  transition:
    background-color 0.25s ease,
    box-shadow 0.25s ease,
    transform 0.25s ease;
}
@media (max-width: 576px) {
  .form-card {
    padding: 1.5rem;
  }
}
@keyframes spin {
  to { transform: rotate(360deg); }
}
.chain-loader {
  display: flex;
  gap: 8px;
  justify-content: center;
}

/* Each chain link */
.chain-loader span {
  width: 18px;
  height: 10px;
  border: 3px solid #2563eb;
  border-radius: 12px;
  position: relative;
  animation: chainMove 1.2s ease-in-out infinite;
  opacity: 0.4;
}

/* Staggered animation */
.chain-loader span:nth-child(1) { animation-delay: 0s; }
.chain-loader span:nth-child(2) { animation-delay: 0.15s; }
.chain-loader span:nth-child(3) { animation-delay: 0.3s; }
.chain-loader span:nth-child(4) { animation-delay: 0.45s; }

/* Animation */
@keyframes chainMove {
  0% {
    transform: translateY(0);
    opacity: 0.4;
  }
  50% {
    transform: translateY(-6px);
    opacity: 1;
  }
  100% {
    transform: translateY(0);
    opacity: 0.4;
  }
}

</style>
</head>
<body>
 <!-- ===== Chain Loader ===== -->
<div id="pageLoader" style="
  position: fixed;
  inset: 0;
  background: rgba(248,250,252,0.92);
  backdrop-filter: blur(6px);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 9999;
">

  <div style="text-align:center;">

    <div class="chain-loader">
      <span></span>
      <span></span>
      <span></span>
      <span></span>
    </div>

    <div style="
      margin-top: 0.9rem;
      font-size: 0.75rem;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      color: #475569;
    ">
      Redefining Systems
    </div>

  </div>

</div>

  {% include "_header.html" %}

  <!-- ðŸ”¹ Form Card -->
  <div class="card form-card p-4">
    <h3 class="mb-1">Add New Product</h3>
    <p class="text-muted mb-0">
      Register a product and store its integrity hash on the blockchain
    </p>
  </div>


      <form method="POST" action="{{ url_for('add') }}">
        <div class="form-section mb-4">
          <label for="product_id" class="form-label">Product ID</label>
          <input type="text" class="form-control" id="product_id" name="product_id"
                 placeholder="Enter unique product ID" required>
        </div>

        <div class="form-section mb-4">
          <label for="name" class="form-label">Product Name</label>
          <input type="text" class="form-control" id="name" name="name"
                 placeholder="Enter product name" required>
        </div>

        <div class="form-section mb-4">
          <label for="description" class="form-label">Description</label>
          <textarea class="form-control" id="description" name="description"
                    placeholder="Enter short product description" rows="3" required></textarea>
        </div>

        <!-- Optional metadata fields -->
        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="quantity" class="form-label">Quantity (optional)</label>
            <input type="number" class="form-control" id="quantity" name="quantity"
                   placeholder="e.g., 500">
          </div>
          <div class="col-md-6 mb-3">
            <label for="manufacturer" class="form-label">Manufacturer (optional)</label>
            <input type="text" class="form-control" id="manufacturer" name="manufacturer"
                   placeholder="e.g., FreshFarms Ltd.">
          </div>
        </div>

        <div class="d-flex justify-content-end align-items-center gap-3 mt-4">
          <a href="/" class="btn btn-link text-muted">
              Cancel
           </a>
          <button type="submit" class="btn btn-primary px-4">
              Save Product
          </button>
        </div>

      </form>
    </div>
  </div>

  <footer>
    <p class="mt-4">Â© 2025 Blockchain Supply Chain | Data Integrity Secured</p>
  </footer>

<script>
  const loader = document.getElementById("pageLoader");

  // Show loader on internal navigation
  document.addEventListener("click", function (e) {
    const link = e.target.closest("a");
    if (!link) return;

    const href = link.getAttribute("href");

    // Ignore empty, anchors, external, new tabs
    if (
      !href ||
      href.startsWith("#") ||
      href.startsWith("http") ||
      link.target === "_blank"
    ) return;

    loader.style.display = "flex";
  });

  // Hide loader when page finishes loading
  window.addEventListener("load", function () {
    loader.style.display = "none";
  });
</script>

</body>
</html>
